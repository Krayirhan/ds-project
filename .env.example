# ============================================================
# DS-Project — Ortam Değişkenleri
# ============================================================
# Kullanım:
#   cp .env.example .env
#   .env dosyasını düzenleyin (replace-me değerlerini değiştirin)
#   docker compose -f docker-compose.dev.yml up --build
# ============================================================

# ── Zorunlu ─────────────────────────────────────────────────

# API kimlik doğrulama anahtarı (isteklerde x-api-key header'ı)
DS_API_KEY=replace-me

# Admin dashboard şifresi — bcrypt hash KULLANIN (güvenli):
#   python -c "import bcrypt; print(bcrypt.hashpw(b'sifreniz', bcrypt.gensalt()).decode())"
# Düz metin da çalışır ama tehlikelidir:
DASHBOARD_ADMIN_PASSWORD_ADMIN=replace-me

# ── Veritabanı ───────────────────────────────────────────────

# PostgreSQL (Docker Compose içinde otomatik gelir)
# Eksikse SQLite kullanılır: sqlite:///./reports/dashboard.db
DATABASE_URL=postgresql+psycopg://ds_user:ds_password@localhost:5432/ds_dashboard

# ── Redis ────────────────────────────────────────────────────

# Redis (Docker Compose içinde otomatik gelir)
# Eksikse in-memory rate limiter kullanılır
REDIS_URL=redis://localhost:6379/0
RATE_LIMIT_BACKEND=redis

# ── API / CORS ───────────────────────────────────────────────

CORS_ALLOW_ORIGINS=http://localhost:5173,http://localhost:3000

# ── Dashboard auth ───────────────────────────────────────────

DASHBOARD_AUTH_ENABLED=true
# Ek salt-okunur kullanıcı (opsiyonel)
DASHBOARD_ADMIN_USERNAME=ds_readonly
DASHBOARD_ADMIN_PASSWORD=ChangeMeReadOnly123!
DASHBOARD_TOKEN_TTL_MINUTES=480
# Frontend URL (dashboard redirect için)
DASHBOARD_URL=http://localhost:5173

# ── AI Chat (Ollama) ─────────────────────────────────────────

# Ollama lokal çalışıyorsa bu şekilde ulaşılır
# Docker içinden host makineye: http://host.docker.internal:11434
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.2:3b
CHAT_SESSION_TTL_SECONDS=3600

# ── Gözlemlenebilirlik (OpenTelemetry) ───────────────────────

OTEL_ENABLED=false
OTEL_SERVICE_NAME=ds-project-api
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_DEPLOYMENT_ENV=development

# ── Alarm bildirimleri ───────────────────────────────────────

ALERT_WEBHOOK_URL=https://example.com/webhook
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/replace-me
PAGERDUTY_ROUTING_KEY=replace-me

# ── Loglama ──────────────────────────────────────────────────

LOG_FORMAT=json
PYTHONUNBUFFERED=1
